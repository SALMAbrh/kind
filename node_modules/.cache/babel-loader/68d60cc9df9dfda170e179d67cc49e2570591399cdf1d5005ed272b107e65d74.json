{"ast":null,"code":"var _jsxFileName = \"D:\\\\cloud00\\\\cloud-project\\\\src\\\\components\\\\Reserve.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Reserve({\n  userEmail\n}) {\n  _s();\n  const [events, setEvents] = useState([]); // Calendar events\n  const [error, setError] = useState(null); // Error messages\n  const [token, setToken] = useState(null); // Google OAuth token\n  const [selectedRoom, setSelectedRoom] = useState(\"\"); // Selected room\n  const [availableTimes, setAvailableTimes] = useState([]); // Available times\n  const [formData, setFormData] = useState({\n    date: \"\",\n    time: \"\",\n    email: userEmail || \"\" // Autofill with authenticated email\n  });\n  useEffect(() => {\n    if (!token) {\n      // Initialize Google API OAuth\n      const tokenClient = google.accounts.oauth2.initTokenClient({\n        client_id: CLIENT_ID,\n        scope: SCOPES,\n        callback: response => {\n          if (response.access_token) {\n            setToken(response.access_token);\n            loadEvents(response.access_token);\n          } else {\n            setError(\"Error obtaining Google token.\");\n          }\n        }\n      });\n      tokenClient.requestAccessToken();\n    }\n  }, [token]);\n  const handleReservation = e => {\n    e.preventDefault();\n    if (!token) {\n      setError(\"You must be logged in to add a reservation.\");\n      return;\n    }\n    const newReservation = {\n      room_id: selectedRoom,\n      email: formData.email,\n      start_time: `${formData.date}T${formData.time}:00`,\n      end_time: `${formData.date}T${parseInt(formData.time.split(\":\")[0]) + 1}:00:00`\n    };\n    addReservationToGoogleCalendar(newReservation);\n    setFormData({\n      ...formData,\n      date: \"\",\n      time: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Room Reservations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleReservation,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Room: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setSelectedRoom(e.target.value),\n        value: selectedRoom,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select a room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: room.id,\n          children: room.name\n        }, room.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Date: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: formData.date,\n        onChange: e => setFormData({\n          ...formData,\n          date: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Time: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: formData.time,\n        onChange: e => setFormData({\n          ...formData,\n          time: e.target.value\n        }),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select a time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), availableTimes.map(time => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: time,\n          children: time\n        }, time, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: formData.email,\n        onChange: e => setFormData({\n          ...formData,\n          email: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Reserve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(Reserve, \"ZTHUFUlNW0gRk3F7CfhVM6hsNwI=\");\n_c = Reserve;\nvar _c;\n$RefreshReg$(_c, \"Reserve\");","map":{"version":3,"names":["Reserve","userEmail","_s","events","setEvents","useState","error","setError","token","setToken","selectedRoom","setSelectedRoom","availableTimes","setAvailableTimes","formData","setFormData","date","time","email","useEffect","tokenClient","google","accounts","oauth2","initTokenClient","client_id","CLIENT_ID","scope","SCOPES","callback","response","access_token","loadEvents","requestAccessToken","handleReservation","e","preventDefault","newReservation","room_id","start_time","end_time","parseInt","split","addReservationToGoogleCalendar","_jsxDEV","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","onSubmit","onChange","target","value","required","disabled","rooms","map","room","id","name","type","_c","$RefreshReg$"],"sources":["D:/cloud00/cloud-project/src/components/Reserve.js"],"sourcesContent":["function Reserve({ userEmail }) {\r\n  const [events, setEvents] = useState([]); // Calendar events\r\n  const [error, setError] = useState(null); // Error messages\r\n  const [token, setToken] = useState(null); // Google OAuth token\r\n  const [selectedRoom, setSelectedRoom] = useState(\"\"); // Selected room\r\n  const [availableTimes, setAvailableTimes] = useState([]); // Available times\r\n  const [formData, setFormData] = useState({\r\n    date: \"\",\r\n    time: \"\",\r\n    email: userEmail || \"\", // Autofill with authenticated email\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      // Initialize Google API OAuth\r\n      const tokenClient = google.accounts.oauth2.initTokenClient({\r\n        client_id: CLIENT_ID,\r\n        scope: SCOPES,\r\n        callback: (response) => {\r\n          if (response.access_token) {\r\n            setToken(response.access_token);\r\n            loadEvents(response.access_token);\r\n          } else {\r\n            setError(\"Error obtaining Google token.\");\r\n          }\r\n        },\r\n      });\r\n      tokenClient.requestAccessToken();\r\n    }\r\n  }, [token]);\r\n\r\n  const handleReservation = (e) => {\r\n    e.preventDefault();\r\n    if (!token) {\r\n      setError(\"You must be logged in to add a reservation.\");\r\n      return;\r\n    }\r\n    const newReservation = {\r\n      room_id: selectedRoom,\r\n      email: formData.email,\r\n      start_time: `${formData.date}T${formData.time}:00`,\r\n      end_time: `${formData.date}T${parseInt(formData.time.split(\":\")[0]) + 1}:00:00`,\r\n    };\r\n    addReservationToGoogleCalendar(newReservation);\r\n    setFormData({ ...formData, date: \"\", time: \"\" });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Room Reservations</h1>\r\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n      <form onSubmit={handleReservation}>\r\n        <label>Room: </label>\r\n        <select onChange={(e) => setSelectedRoom(e.target.value)} value={selectedRoom} required>\r\n          <option value=\"\" disabled>\r\n            Select a room\r\n          </option>\r\n          {rooms.map((room) => (\r\n            <option key={room.id} value={room.id}>\r\n              {room.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <label>Date: </label>\r\n        <input\r\n          type=\"date\"\r\n          value={formData.date}\r\n          onChange={(e) => setFormData({ ...formData, date: e.target.value })}\r\n          required\r\n        />\r\n        <label>Time: </label>\r\n        <select\r\n          value={formData.time}\r\n          onChange={(e) => setFormData({ ...formData, time: e.target.value })}\r\n          required\r\n        >\r\n          <option value=\"\" disabled>\r\n            Select a time\r\n          </option>\r\n          {availableTimes.map((time) => (\r\n            <option key={time} value={time}>\r\n              {time}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <label>Email: </label>\r\n        <input\r\n          type=\"email\"\r\n          value={formData.email}\r\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n          required\r\n        />\r\n        <button type=\"submit\">Reserve</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}